(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),i=n(88),s=n(89),d=n(101),j=n(100),u=n(16),l=n(174),b=n(178),h=n(179),O=n(94),p=n.n(O),x=n(95),v=n.n(x),m=n(96),g=n.n(m),f=n(195),w=n(177),y=n(2),q=Object(l.a)((function(e){return{root:{display:"flex",alignItems:"center","& > *":{margin:e.spacing(1)}}}}));function S(e){var t=q(),n=e.authedUser;return Object(y.jsxs)("div",{className:t.root,children:[Object(y.jsxs)("div",{children:["Hello, ",n.name]}),Object(y.jsx)(f.a,{alt:n.name,src:n.avatarURL}),Object(y.jsx)(w.a,{onClick:e.logout,variant:"outlined",color:"secondary",children:"Logout"})]})}var U=n(14),T="SET_AUTHED_USER",k="LOGOUT_USER";function N(e){return{type:T,authedUser:e}}var R=n(15),W=Object(l.a)({root:{width:"100%",borderBottom:"2px solid #303F9F"}});var z=Object(R.f)(Object(U.connect)((function(e){return{authedUser:e.authedUser}}))((function(e){var t=W(),n=r.a.useState(0),a=Object(u.a)(n,2),o=a[0],c=a[1],i=e.authedUser;return Object(y.jsx)("div",{children:Object(y.jsxs)(b.a,{value:o,onChange:function(t,n){switch(c(n),n){case 1:e.history.push("/add");break;case 2:e.history.push("/leaderboard");break;default:e.history.push("/")}},showLabels:!0,className:t.root,children:[Object(y.jsx)(h.a,{label:"Home",icon:Object(y.jsx)(p.a,{})}),Object(y.jsx)(h.a,{label:"New Question",icon:Object(y.jsx)(v.a,{})}),Object(y.jsx)(h.a,{label:"Leaderboard",icon:Object(y.jsx)(g.a,{})}),i&&Object(y.jsx)(S,{authedUser:i,logout:function(){e.dispatch({type:k}),e.history.push("/")}})]})})}))),L=n(182),C=n(184),E=n(183),A=n(133),B=n(8),_=n(190),M=n(193);var D=Object(U.connect)((function(e){return{users:e.users}}))((function(e){var t=Object.values(e.users);return Object(y.jsx)(M.a,{id:"combo-box-demo",options:t,getOptionLabel:function(e){return e.name},style:{width:"100%",marginTop:10},renderInput:function(e){return Object(y.jsx)(_.a,Object(B.a)(Object(B.a)({},e),{},{label:"Select User",variant:"outlined"}))},onChange:function(n){var a=n.target.getAttribute("data-option-index");e.setSelectedUser(t[a])}})})),I=n(37),Q=n.n(I),G=n(57),P=n(19),F={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"/profile_pics/sarahedo.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"/profile_pics/tylermcginnis.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"/profile_pics/johndoe.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},H={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function V(e){return new Promise((function(t,n){var a=e.author,r=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);console.log(r),setTimeout((function(){H=Object(B.a)(Object(B.a)({},H),{},Object(P.a)({},r.id,r)),F=Object(B.a)(Object(B.a)({},F),{},Object(P.a)({},a,Object(B.a)(Object(B.a)({},F[a]),{},{questions:F[a].questions.concat([r.id])}))),t(r)}),1e3)}))}function J(e){var t=e.authedUser,n=e.qid,a=e.answer;return new Promise((function(e,r){setTimeout((function(){F=Object(B.a)(Object(B.a)({},F),{},Object(P.a)({},t,Object(B.a)(Object(B.a)({},F[t]),{},{answers:Object(B.a)(Object(B.a)({},F[t].answers),{},Object(P.a)({},n,a))}))),H=Object(B.a)(Object(B.a)({},H),{},Object(P.a)({},n,Object(B.a)(Object(B.a)({},H[n]),{},Object(P.a)({},a,Object(B.a)(Object(B.a)({},H[n][a]),{},{votes:H[n][a].votes.concat([t])}))))),e()}),500)}))}var Y="RECEIVE_QUESTIONS";function $(e){return{type:Y,questions:e}}var K="RECEIVE_USERS";function X(e){return{type:K,users:e}}var Z=n(23),ee=n.n(Z),te="SAVE_QUESTION",ne="SAVE_ANSWER";function ae(e,t,n){return{type:ne,authedUser:e,qid:t,answer:n}}function re(e){return{type:te,question:e}}var oe=Object(l.a)({root:{minWidth:275,maxWidth:500,marginTop:30,marginLeft:"auto",marginRight:"auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:18,fontWeight:"bold",textAlign:"center"},pos:{marginBottom:12,textAlign:"center"},header:{backgroundColor:"lightgrey"}});var ce=Object(U.connect)()((function(e){var t=oe(),n=Object(a.useState)(null),r=Object(u.a)(n,2),o=r[0],c=r[1];return Object(y.jsxs)(L.a,{className:t.root,children:[Object(y.jsxs)(E.a,{children:[Object(y.jsx)(A.a,{component:"div",className:t.title,gutterBottom:!0,children:"Welcome to the Would You Rather App!"}),Object(y.jsx)(A.a,{component:"div",className:t.pos,color:"textSecondary",children:"Please sign in to continue"}),Object(y.jsxs)("center",{children:[Object(y.jsx)("img",{alt:"logo",src:"/assets/react-redux.png"}),Object(y.jsx)(A.a,{component:"div",children:"Sign in"})]}),Object(y.jsx)(D,{setSelectedUser:c})]}),Object(y.jsx)(C.a,{children:Object(y.jsx)(w.a,{onClick:function(){e.dispatch(N(o)),e.dispatch(function(){var e=Object(G.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(Z.showLoading)()),e.next=3,new Promise((function(e,t){setTimeout((function(){return e(Object(B.a)({},H))}),1e3)}));case 3:n=e.sent,t($(n)),t(Object(Z.hideLoading)());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},style:{width:"100%"},variant:"contained",color:"primary",children:"Login"})})]})})),ie=n(82),se=n(102),de=n(187),je=n(192),ue=n(186),le=n(191),be=n(104),he=n(185),Oe=n(47),pe=Object(l.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:500,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},avatar:{width:70,height:70,padding:10},vline:{borderRight:"1px solid lightgrey",width:"140px",marginRight:"10px"}}}));function xe(e){var t=pe(),n=e.question,a=e.user;return Object(y.jsx)("div",{className:t.root,children:Object(y.jsx)(be.a,{className:t.paper,children:Object(y.jsxs)(he.a,{container:!0,wrap:"nowrap",spacing:3,children:[Object(y.jsxs)(he.a,{align:"center",item:!0,className:t.vline,children:[Object(y.jsx)(f.a,{className:t.avatar,src:a.avatarURL}),Object(y.jsx)(A.a,{component:"div",children:Object(y.jsx)("b",{children:a.name})})]}),Object(y.jsx)(he.a,{item:!0,xs:!0,zeroMinWidth:!0,children:Object(y.jsxs)(le.a,{children:[Object(y.jsxs)(A.a,{component:"div",noWrap:!0,children:[Object(y.jsx)("b",{children:"Would you rather"}),Object(y.jsx)("br",{}),"...".concat(n.optionOne.text.slice(0,15),"...")]}),Object(y.jsx)(Oe.b,{to:"/question/".concat(n.id),children:Object(y.jsx)(w.a,{fullWidth:!0,variant:"outlined",color:"primary",children:"View Poll"})})]})})]})})})}var ve=Object(U.connect)((function(e){return{users:e.users}}))((function(e){var t=e.questions,n=e.users;return t.sort((function(e,t){return t.timestamp-e.timestamp})),Object(y.jsx)("div",{children:t.map((function(e){return Object(y.jsx)(xe,{question:e,user:(t=e.author,n[t])},e.id);var t}))})}));function me(e){var t=e.children,n=e.value,a=e.index,r=Object(se.a)(e,["children","value","index"]);return Object(y.jsx)("div",Object(B.a)(Object(B.a)({role:"tabpanel",hidden:n!==a,id:"nav-tabpanel-".concat(a),"aria-labelledby":"nav-tab-".concat(a)},r),{},{children:n===a&&Object(y.jsx)(le.a,{p:3,children:Object(y.jsx)(A.a,{component:"div",children:t})})}))}function ge(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}}function fe(e){return Object(y.jsx)(ue.a,Object(B.a)({component:"a",onClick:function(e){e.preventDefault()}},e))}var we=Object(l.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var ye=Object(U.connect)((function(e){var t=e.authedUser,n=e.questions;return{answers:t.answers,questions:n,loading:Boolean(!Object.keys(n).length)}}))((function(e){var t=we(),n=Object(a.useState)(0),r=Object(u.a)(n,2),o=r[0],c=r[1],i=Object(a.useState)([]),s=Object(u.a)(i,2),d=s[0],j=s[1],l=Object(a.useState)([]),b=Object(u.a)(l,2),h=b[0],O=b[1];return Object(a.useEffect)((function(){var t=e.answers,n=e.questions;j([]),O([]);var a=function(e){t[e]?j((function(t){return[].concat(Object(ie.a)(t),[n[e]])})):O((function(t){return[].concat(Object(ie.a)(t),[n[e]])}))};for(var r in n)a(r)}),[e]),Object(y.jsxs)("div",{className:t.root,children:[Object(y.jsx)(ee.a,{}),!0===e.loading?null:Object(y.jsxs)("div",{children:[Object(y.jsx)(de.a,{position:"static",children:Object(y.jsxs)(je.a,{variant:"fullWidth",value:o,onChange:function(e,t){c(t)},"aria-label":"nav tabs example",children:[Object(y.jsx)(fe,Object(B.a)({label:"Unanswered Questions"},ge(0))),Object(y.jsx)(fe,Object(B.a)({label:"Answered Questions"},ge(1)))]})}),Object(y.jsx)(me,{value:o,index:0,children:Object(y.jsx)(ve,{questions:h})}),Object(y.jsx)(me,{value:o,index:1,children:Object(y.jsx)(ve,{questions:d})})]})]})})),qe=n(188);function Se(e){return Object(y.jsxs)(le.a,{display:"flex",alignItems:"center",children:[Object(y.jsx)(le.a,{width:"100%",mr:1,children:Object(y.jsx)(qe.a,Object(B.a)({variant:"determinate"},e))}),Object(y.jsx)(le.a,{minWidth:35,children:Object(y.jsx)(A.a,{component:"div",variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var Ue=Object(l.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:500,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},avatar:{width:100,height:100,padding:10},vline:{borderRight:"1px solid lightgrey"},selectedOption:{backgroundColor:"#D8DDFF",padding:15,borderRadius:7,border:"1px solid #3F51B5"},option:{padding:15,borderRadius:7,border:"1px solid lightgrey"}}}));function Te(e){var t,n,a=Ue(),o=e.author,c=e.question,i=e.uid,s=c.optionOne.votes.length,d=c.optionTwo.votes.length,j=s+d,l=r.a.useState(100*s/j),b=Object(u.a)(l,1)[0],h=r.a.useState(100*d/j),O=Object(u.a)(h,1)[0];return c.optionOne.votes.includes(i)?(t=a.selectedOption,n=a.option):(n=a.selectedOption,t=a.option),Object(y.jsx)("div",{className:a.root,children:Object(y.jsx)(be.a,{className:a.paper,children:Object(y.jsxs)(he.a,{container:!0,wrap:"nowrap",spacing:2,children:[Object(y.jsxs)(he.a,{item:!0,className:a.vline,align:"center",children:[Object(y.jsx)(f.a,{className:a.avatar,src:o.avatarURL}),Object(y.jsxs)("div",{style:{textAlign:"center"},children:["Asked by ",Object(y.jsx)("b",{children:o.name})]})]}),Object(y.jsxs)(he.a,{item:!0,xs:!0,zeroMinWidth:!0,children:[Object(y.jsx)(A.a,{component:"div",variant:"h6",children:"Results:"}),Object(y.jsxs)("div",{className:t,children:[Object(y.jsxs)(A.a,{component:"div",children:["Would your rather ",c.optionOne.text]}),Object(y.jsx)(Se,{value:b}),Object(y.jsxs)(A.a,{component:"div",align:"center",children:[s," out of ",j," votes"]})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("div",{className:n,children:[Object(y.jsxs)(A.a,{component:"div",children:["Would your rather ",c.optionTwo.text]}),Object(y.jsx)(Se,{value:O}),Object(y.jsxs)(A.a,{component:"div",align:"center",children:[d," out of ",j," votes"]})]})]})]})})})}var ke=n(196),Ne=n(189),Re=n(194),We=Object(l.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:500,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},avatar:{width:100,height:100,padding:10},vline:{borderRight:"1px solid lightgrey"}}}));var ze=Object(U.connect)((function(e){return{uid:e.authedUser.id}}))((function(e){var t=We(),n=r.a.useState("optionOne"),a=Object(u.a)(n,2),o=a[0],c=a[1],i=e.author,s=e.question,d=e.dispatch,j=e.uid;return Object(y.jsx)("div",{className:t.root,children:Object(y.jsx)(be.a,{className:t.paper,children:Object(y.jsxs)(he.a,{container:!0,wrap:"nowrap",spacing:2,children:[Object(y.jsxs)(he.a,{item:!0,className:t.vline,align:"center",children:[Object(y.jsx)(f.a,{className:t.avatar,src:i.avatarURL}),Object(y.jsxs)("div",{style:{textAlign:"center"},children:[i.name," asks:"]})]}),Object(y.jsxs)(he.a,{item:!0,xs:!0,zeroMinWidth:!0,children:[Object(y.jsx)(A.a,{component:"div",noWrap:!0,children:"Would You Rather..."}),Object(y.jsxs)(ke.a,{"aria-label":"gender",name:"gender1",value:o,onChange:function(e){c(e.target.value)},children:[Object(y.jsx)(Ne.a,{value:"optionOne",control:Object(y.jsx)(Re.a,{color:"primary"}),label:s.optionOne.text}),Object(y.jsx)(Ne.a,{value:"optionTwo",control:Object(y.jsx)(Re.a,{color:"primary"}),label:s.optionTwo.text})]}),Object(y.jsx)(w.a,{onClick:function(){var e,t,n;d((e=j,t=s.id,n=o,function(){var a=Object(G.a)(Q.a.mark((function a(r,o){var c,i;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(Object(Z.showLoading)()),a.next=3,J({authedUser:e,qid:t,answer:n});case 3:r(ae(e,t,n)),c=o(),i=c.users,r(N(i[e])),r(Object(Z.hideLoading)());case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()))},fullWidth:!0,variant:"contained",color:"primary",children:"Submit"})]})]})})})}));var Le=Object(U.connect)((function(e,t){var n=e.authedUser,a=e.questions,r=e.users;try{var o=t.match.params.id,c=Object.keys(n.answers),i=a[o],s=r[i.author];return{answered:c.includes(i.id),question:i,author:s,uid:n.id}}catch(d){return{question:null}}}))((function(e){if(null===e.question)return Object(y.jsx)("div",{style:{textAlign:"center",marginTop:100},children:Object(y.jsx)("img",{src:"/assets/error-404.png",alt:"Error 404"})});var t=e.author,n=e.question,a=e.uid;return Object(y.jsx)("div",{children:e.answered?Object(y.jsx)(Te,{author:t,question:n,uid:a}):Object(y.jsx)(ze,{author:t,question:n,uid:a})})})),Ce=Object(l.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:500,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},avatar:{width:100,height:100,padding:10},vline:{borderRight:"1px solid lightgrey",paddingRight:100},score:{textAlign:"center",border:"1px solid lightgrey",width:85,margin:7,borderRadius:5,height:"80%",fontWeight:"bold"},header:{backgroundColor:"#eae8e8",lineHeight:"3",borderBottom:"1px solid lightgrey"},scoreNum:{backgroundColor:"#3F51B5",color:"white",width:50,borderRadius:"70%",margin:"5px auto",boxSizing:"border-box",lineHeight:"3"}}}));function Ee(e){var t=Ce(),n=e.userScore,a=n.name,r=n.avatar,o=n.answered,c=n.created,i=n.score;return Object(y.jsx)("div",{className:t.root,children:Object(y.jsx)(be.a,{className:t.paper,children:Object(y.jsxs)(he.a,{container:!0,wrap:"nowrap",spacing:2,children:[Object(y.jsx)(he.a,{item:!0,className:t.vline,children:Object(y.jsx)(f.a,{className:t.avatar,src:r})}),Object(y.jsxs)(he.a,{className:t.vline,item:!0,xs:!0,zeroMinWidth:!0,children:[Object(y.jsx)(A.a,{component:"div",variant:"h6",children:a}),Object(y.jsx)(A.a,{component:"div",children:Object(y.jsxs)(le.a,{children:["Answered Questions: ",o]})}),Object(y.jsx)(A.a,{component:"div",children:Object(y.jsxs)(le.a,{children:["Created Questions: ",c]})})]}),Object(y.jsx)(he.a,{children:Object(y.jsxs)(le.a,{className:t.score,children:[Object(y.jsx)(le.a,{className:t.header,children:"Score"}),Object(y.jsx)(le.a,{className:t.scoreNum,children:i})]})})]})})})}var Ae=Object(U.connect)((function(e){return{users:e.users}}))((function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var t=e.users;o(Object.keys(t).map((function(e){var n=t[e].name,a=t[e].avatarURL,r=Object.keys(t[e].answers).length,o=t[e].questions.length;return{name:n,avatar:a,answered:r,created:o,score:r+o}})).sort((function(e,t){return t.score-e.score})))}),[e]),Object(y.jsx)("div",{children:Object.keys(r).map((function(e){return Object(y.jsx)(Ee,{userScore:r[e]},e)}))})}));var Be=Object(U.connect)((function(e){return{uid:e.authedUser.id}}))((function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],d=i[1],j=Object(a.useState)(!1),l=Object(u.a)(j,2),b=l[0],h=l[1];return b?Object(y.jsx)(R.a,{to:"/"}):Object(y.jsx)(le.a,{align:"center",children:Object(y.jsxs)(le.a,{align:"center",p:1,m:5,border:"1px solid lightgrey",borderRadius:"7px",width:"400px",children:[Object(y.jsx)(le.a,{borderBottom:"1px solid lightgrey",p:1,children:Object(y.jsx)(A.a,{component:"div",variant:"h5",children:Object(y.jsx)("b",{children:"Create New Question"})})}),Object(y.jsx)(le.a,{m:2,align:"left",children:Object(y.jsx)(A.a,{component:"div",children:"Complete the queston:"})}),Object(y.jsx)(le.a,{m:2,align:"left",children:Object(y.jsx)(A.a,{fontWeight:"200px",component:"div",children:Object(y.jsx)("b",{children:"Would you rather..."})})}),Object(y.jsx)(_.a,{fullWidth:!0,id:"outlined-basic",label:"Option One",variant:"outlined",onChange:function(e){o(e.target.value)}}),Object(y.jsx)(le.a,{m:1,children:Object(y.jsx)("b",{children:"OR"})}),Object(y.jsx)(_.a,{fullWidth:!0,id:"outlined-basic",label:"Option Two",variant:"outlined",onChange:function(e){d(e.target.value)}}),Object(y.jsx)(le.a,{m:1,children:Object(y.jsx)(w.a,{onClick:function(){var t;e.dispatch((t={optionOneText:r,optionTwoText:s,author:e.uid},function(){var e=Object(G.a)(Q.a.mark((function e(n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(Z.showLoading)()),e.next=3,V(t);case 3:a=e.sent,n(re(a)),n(Object(Z.hideLoading)());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),h(!0)},variant:"contained",color:"primary",children:"Submit"})})]})})})),_e=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e=Object(G.a)(Q.a.mark((function e(t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(Z.showLoading)()),e.next=3,new Promise((function(e,t){setTimeout((function(){return e(Object(B.a)({},F))}),1e3)}));case 3:n=e.sent,t(X(n)),t(Object(Z.hideLoading)());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return Object(y.jsx)(Oe.a,{children:Object(y.jsxs)("div",{children:[Object(y.jsx)(z,{}),Object(y.jsx)(ee.a,{}),!0===this.props.loading?null:Object(y.jsxs)("div",{children:[Object(y.jsx)(R.b,{path:"/",exact:!0,component:this.props.authedUser?ye:ce}),Object(y.jsx)(R.b,{path:"/add",component:this.props.authedUser?Be:ce}),Object(y.jsx)(R.b,{path:"/leaderboard",component:this.props.authedUser?Ae:ce}),Object(y.jsx)(R.b,{path:"/question/:id",component:this.props.authedUser?Le:ce})]})]})})}}]),n}(a.Component),Me=Object(U.connect)((function(e){var t=e.authedUser,n=e.users;return{authedUser:t,loading:Boolean(!Object.keys(n).length)}}))(_e),De=n(49);var Ie=Object(De.b)({questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(B.a)(Object(B.a)({},e),t.questions);case ne:var n=t.qid,a=t.answer,r=t.authedUser;return Object(B.a)(Object(B.a)({},e),{},Object(P.a)({},n,Object(B.a)(Object(B.a)({},e[n]),{},Object(P.a)({},a,Object(B.a)(Object(B.a)({},e[n][a]),{},{votes:e[n][a].votes.concat([r])})))));case te:return Object(B.a)(Object(B.a)({},e),{},Object(P.a)({},t.question.id,t.question));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(B.a)(Object(B.a)({},e),t.users);case ne:var n=t.qid,a=t.authedUser,r=t.answer;return Object(B.a)(Object(B.a)({},e),{},Object(P.a)({},a,Object(B.a)(Object(B.a)({},e[a]),{},{answers:Object(B.a)(Object(B.a)({},e[a].answers),{},Object(P.a)({},n,r))})));case te:return Object(B.a)(Object(B.a)({},e),{},Object(P.a)({},t.question.author,Object(B.a)(Object(B.a)({},e[t.question.author]),{},{questions:e[t.question.author].questions.concat([t.question.id])})));default:return e}},authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return t.authedUser;case k:return null;default:return e}},loadingBar:Z.loadingBarReducer}),Qe=function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n.type);var a=t(n);return console.log("The state: ",e.getState()),console.groupEnd(),a}}},Ge=n(99),Pe=Object(De.a)(Ge.a,Qe),Fe=Object(De.c)(Ie,Pe);c.a.render(Object(y.jsx)(U.Provider,{store:Fe,children:Object(y.jsx)(Me,{})}),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.41667885.chunk.js.map